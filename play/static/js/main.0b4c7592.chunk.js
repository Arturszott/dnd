(this.webpackJsonpdnd=this.webpackJsonpdnd||[]).push([[0],[,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),s=(a(14),a(1)),l=(a(15),r.a.memo((function(e){var t=e.setName,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],l=o[1],i=Object(n.useCallback)((function(e){l(e.target.value)}),[]);return r.a.createElement("div",{className:"EnterNameScreen"},r.a.createElement("h1",null,"Hello friend, tell me your name..."),r.a.createElement("input",{type:"text",className:"nameInput",value:c,onChange:i,placeholder:"Your name here",onKeyPress:function(e){13===e.charCode&&t(c)}}),r.a.createElement("button",{className:"submit",onClick:function(){return t(c)}},"Let's go... \u2192"))}))),i=a(5);a(7),a(16);var u=function(e){e.preventDefault()},d={z:function(e){return r.a.createElement("svg",Object.assign({width:84,height:84,viewBox:"0 0 84 84"},e),r.a.createElement("path",{fill:"#3B0078",fillRule:"evenodd",d:"M78.024.626H2.779A2.78 2.78 0 000 3.406v15.285a2.779 2.779 0 002.779 2.779h35.143c2.241 0 3.561 2.516 2.286 4.359L3.013 79.641C1.739 81.484 3.058 84 5.299 84h75.296a2.779 2.779 0 002.779-2.779V65.936a2.779 2.779 0 00-2.779-2.779H44.768c-2.251 0-3.568-2.537-2.273-4.378L80.297 5.004c1.294-1.841-.022-4.378-2.273-4.378"}))},o:function(e){return r.a.createElement("svg",Object.assign({width:84,height:84,viewBox:"0 0 84 84"},e),r.a.createElement("path",{fill:"#3B0078",fillRule:"evenodd",d:"M41.963.626C18.94.626.277 19.29.277 42.313.277 65.336 18.94 84 41.963 84S83.65 65.336 83.65 42.313C83.65 19.29 64.986.626 41.963.626"}))},v:function(e){return r.a.createElement("svg",Object.assign({width:81,height:81,viewBox:"0 0 81 81"},e),r.a.createElement("path",{fill:"#3B0078",fillRule:"evenodd",d:"M77.419.626H3.039C.974.626-.369 2.798.552 4.646l37.089 74.38c1.022 2.049 3.945 2.052 4.971.005l37.291-74.38c.927-1.848-.417-4.025-2.484-4.025"}))},u:function(e){return r.a.createElement("svg",Object.assign({width:85,height:131,viewBox:"0 0 85 131"},e),r.a.createElement("path",{fill:"#3B0078",fillRule:"evenodd",d:"M81.418 47.626a2.78 2.78 0 012.779 2.78v38.907C84.197 112.336 65.534 131 42.51 131 19.487 131 .824 112.336.824 89.313V50.406a2.78 2.78 0 012.779-2.78zM21.667.889c8.442 0 15.285 6.843 15.285 15.285s-6.843 15.285-15.285 15.285S6.382 24.616 6.382 16.174 13.225.889 21.667.889zm41.687 0c8.441 0 15.285 6.843 15.285 15.285s-6.844 15.285-15.285 15.285c-8.442 0-15.286-6.843-15.286-15.285S54.912.889 63.354.889z"}))}},f=r.a.memo((function(e){var t=e.value,a=e.slotKey,n=e.makeMove,o=e.onCardDragged,c=d[t];return r.a.createElement("div",{"data-key":a,"data-value":t,"data-testid":"slot",draggable:Boolean(t),className:"slot "+(t?"has-card":""),onDragOver:u,onDragEnter:u,onDragLeave:u,onDragStart:function(){o(a)},onDragEnd:function(){o(null)},onDrop:function(){n(a)}},c?r.a.createElement(c,null):t)})),m="move",v="start",h="finish",p="refresh",b=function(e){var t=e.cards;return{type:p,payload:{cards:t}}},E=function(e){return e.startsWith("b")};function g(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}function y(e,t){return e.map((function(e){var a=Object(s.a)(e,2),n=a[0],o=a[1];return r.a.createElement(f,Object.assign({key:n,slotKey:n,value:o},t))}))}var j=r.a.memo((function(e){var t=e.dispatch,a=e.slots,o=e.started,c=Object(n.useState)(null),l=Object(s.a)(c,2),u=l[0],d=l[1],f=Object(n.useMemo)((function(){var e=Object(i.a)(a.entries());return{topSlotEntries:e.filter((function(e){var t=Object(s.a)(e,2),a=t[0];t[1];return function(e){return e.startsWith("t")}(a)})),bottomSlotEntries:e.filter((function(e){var t=Object(s.a)(e,2),a=t[0];t[1];return E(a)}))}}),[a]),h=f.topSlotEntries,p=f.bottomSlotEntries,b={makeMove:function(e){t(function(e){var t=e.from,a=e.to;return{type:m,payload:{from:t,to:a}}}({from:u,to:e}))},onCardDragged:function(e){d(e),o||t({type:v})}},g=y(h,b),j=y(p,b);return r.a.createElement("div",{className:"cardBoard"},r.a.createElement("div",{className:"row"},g),r.a.createElement("div",{className:"row"},j))})),O=(a(17),r.a.memo((function(e){var t=e.penalty,a=e.started,o=e.finished,c=e.startedAt,l=Object(n.useState)(0),i=Object(s.a)(l,2),u=i[0],d=i[1],f=Object(n.useState)(null),m=Object(s.a)(f,2),v=m[0],h=m[1],p=Object(n.useCallback)((function(){d((Date.now()-c)/1e3)}),[c]);return Object(n.useEffect)((function(){return a&&!v&&h(setInterval(p,1e3)),function(){clearInterval(v)}}),[v,p,a,o]),Object(n.useEffect)((function(){d(0)}),[o]),r.a.createElement("span",{className:"Timer"},r.a.createElement("span",{className:"icon",role:"img","aria-label":"clock"},"\u23f0")," ","Your score: ",t+Math.floor(u)," seconds")}))),w=(a(18),r.a.memo((function(e){var t=e.name,a=e.score;return r.a.createElement("div",{className:"FinishScreen"},r.a.createElement("h1",null,"It's over, ",t,". Score: ",a,". ",r.a.createElement("br",null),function(e){return e>100?"Nice, nice. How about you play again seriously this time?":e>50?"Certainly not the best":e>15?"Not bad!":e>5?"Almost perfect, but there is place for improvement":"Thank you for making the logo great again!"}(a)),r.a.createElement("p",null,"Game will restart in 10 seconds..."))}))),S=a(3),N={started:!1,finished:!1,slots:new Map,startedAt:null,penalty:0,finalScore:null};function M(e,t){switch(t.type){case p:var a=new Map,n=new Map,r=g(t.payload.cards.slice(0));if(r.length>1)for(;r.join("")===t.payload.cards.join("");)r=g(t.payload.cards.slice(0));return r.forEach((function(e,t){a.set("t".concat(t),e),a.set("b".concat(t),null)})),t.payload.cards.forEach((function(e,t){n.set("b".concat(t),e)})),Object(S.a)({},N,{solution:n,slots:a});case v:return Object(S.a)({},e,{startedAt:Date.now(),started:!0});case h:return Object(S.a)({},e,{finalScore:Math.floor(e.penalty+(Date.now()-e.startedAt)/1e3),finished:!0});case m:var o=t.payload,c=o.from,s=o.to,l=new Map(e.slots.entries());l.set(c,e.slots.get(s)),l.set(s,e.slots.get(c));var i=E(s)&&e.solution.get(s)!==e.slots.get(c)?10:0;return Object(S.a)({},e,{penalty:e.penalty+i,slots:l});default:throw new Error("Action type not recognized. Fix it before users will see that!")}}a(19);var k=r.a.memo((function(e){var t=e.startingCardsValues,a=e.name,o=Object(n.useReducer)(M,N),c=Object(s.a)(o,2),l=c[0],u=c[1];return Object(n.useEffect)((function(){u(b({cards:t}))}),[t]),Object(n.useEffect)((function(){l.started&&(Object(i.a)(l.solution.entries()).every((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return l.slots.get(a)===n}))&&(u({type:h}),setTimeout((function(){u(b({cards:t}))}),1e4)))}),[t,l.slots,l.solution,l.started]),r.a.createElement("div",{className:"PlayScreen"},l.finished&&r.a.createElement(w,{name:a,score:l.finalScore}),r.a.createElement("div",{className:"play-area "+(l.finished?"has-finished":"")},r.a.createElement("div",{className:"top-bar"},r.a.createElement("h1",null,"Good luck, ",a,"!")," ",r.a.createElement(O,{started:l.started,finished:l.finished,penalty:l.penalty,startedAt:l.startedAt})),l.slots.size&&r.a.createElement(j,{slots:l.slots,dispatch:u,started:l.started})))})),C=["z","o","o","v","u"];var B=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{className:"App"},a?r.a.createElement(k,{startingCardsValues:C,name:a}):r.a.createElement(l,{setName:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.0b4c7592.chunk.js.map